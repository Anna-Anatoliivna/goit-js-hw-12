{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function getImages(url) {\n  return fetch(url).then(res => {\n    if (!res.ok) throw new Error(res.status);\n    return res.json();\n  });\n}\n","export function imageTamplate(image) {\n  return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=${image.largeImageURL}>\n          <img class=\"gallery-image\" src=${image.webformatURL} alt=${image.tags} title=${image.tags} />\n        </a>\n<div class=\"card-info\">\n  <ul class=\"card-info-list\">\n    <li>\n      <h3 class=\"card-title\">Likes</h3>\n      <p class=\"card-text\">${image.likes}</p>\n    </li>\n    <li>\n      <h3 class=\"card-title\">Views</h3>\n      <p class=\"card-text\">${image.views}</p>\n    </li>\n    <li>\n      <h3 class=\"card-title\">Comments</h3>\n      <p class=\"card-text\">${image.comments}</p>\n    </li>\n    <li>\n      <h3 class=\"card-title\">Downloads</h3>\n      <p class=\"card-text\">${image.downloads}</p>\n    </li>\n  </ul>\n</div>\n      </li>`;\n}\n\nexport function imagesTamplate(arr) {\n  return arr.map(imageTamplate).join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport getImages from './js/pixabay-api.js';\nimport { imagesTamplate } from './js/render-functions.js';\nimport axios from 'axios';\n\nconst refs = {\n  formEl: document.querySelector('.form-request'),\n  btnEl: document.querySelector('.btn'),\n  ulElem: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst params = new URLSearchParams({\n  key: '44439688-e504d8637fbba129a9d0d5115',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\nconst options = {\n  captionDelay: 250,\n};\n\nrefs.formEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const userText = e.currentTarget.elements.query.value.trim();\n\n  if (!userText) {\n    iziToast.warning({\n      position: `topRight`,\n      title: `Attention`,\n      message: 'Search field must not be empty. Please try again!',\n    });\n    return;\n  }\n  refs.loader.classList.remove('js-hidden');\n  params.set('q', userText);\n  const userUrl = 'https://pixabay.com/api/?' + params;\n  refs.formEl.reset();\n  getImages(userUrl)\n    .then(images => {\n      refs.loader.classList.add('js-hidden');\n      // console.log(images);\n      if (!images.hits.length) return Promise.reject('error');\n\n      const markup = imagesTamplate(images.hits);\n      refs.ulElem.innerHTML = markup;\n      const lightbox = new SimpleLightbox('.gallery a', options);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        position: `topRight`,\n        title: `error`,\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      refs.ulElem.innerHTML = '';\n    });\n});\n"],"names":["getImages","url","res","imageTamplate","image","imagesTamplate","arr","refs","params","options","e","userText","iziToast","userUrl","images","markup","SimpleLightbox","error"],"mappings":"6vBAAe,SAASA,EAAUC,EAAK,CACrC,OAAO,MAAMA,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAMA,EAAI,MAAM,EACvC,OAAOA,EAAI,MACf,CAAG,CACH,CCLO,SAASC,EAAcC,EAAO,CACnC,MAAO;AAAA,uCAC8BA,EAAM,aAAa;AAAA,2CACfA,EAAM,YAAY,QAAQA,EAAM,IAAI,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAMtEA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,6BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,YAK5C,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,CACvC,CCrBA,MAAMI,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,MAAO,SAAS,cAAc,MAAM,EACpC,OAAQ,SAAS,cAAc,UAAU,EACzC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EACKC,EAAU,CACd,aAAc,GAChB,EAEAF,EAAK,OAAO,iBAAiB,SAAUG,GAAK,CAC1CA,EAAE,eAAc,EAChB,MAAMC,EAAWD,EAAE,cAAc,SAAS,MAAM,MAAM,OAEtD,GAAI,CAACC,EAAU,CACbC,EAAS,QAAQ,CACf,SAAU,WACV,MAAO,YACP,QAAS,mDACf,CAAK,EACD,MACD,CACDL,EAAK,OAAO,UAAU,OAAO,WAAW,EACxCC,EAAO,IAAI,IAAKG,CAAQ,EACxB,MAAME,EAAU,4BAA8BL,EAC9CD,EAAK,OAAO,QACZP,EAAUa,CAAO,EACd,KAAKC,GAAU,CAGd,GAFAP,EAAK,OAAO,UAAU,IAAI,WAAW,EAEjC,CAACO,EAAO,KAAK,OAAQ,OAAO,QAAQ,OAAO,OAAO,EAEtD,MAAMC,EAASV,EAAeS,EAAO,IAAI,EACzCP,EAAK,OAAO,UAAYQ,EACP,IAAIC,EAAe,aAAcP,CAAO,EAChD,QAAO,CACtB,CAAK,EACA,MAAMQ,GAAS,CACdL,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QACE,0EACV,CAAO,EACDL,EAAK,OAAO,UAAY,EAC9B,CAAK,CACL,CAAC"}